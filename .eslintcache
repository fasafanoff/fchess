[{"D:\\react\\fchess\\src\\index.js":"1","D:\\react\\fchess\\src\\App.js":"2","D:\\react\\fchess\\src\\Pages\\Analysis\\Analysis.js":"3","D:\\react\\fchess\\src\\Pages\\Main\\Main.js":"4","D:\\react\\fchess\\src\\Pages\\Play\\Play.js":"5","D:\\react\\fchess\\src\\Components\\BoardProvider\\BoardProvider.js":"6","D:\\react\\fchess\\src\\Components\\Board\\Board.js":"7","D:\\react\\fchess\\src\\Components\\Tile\\Tile.js":"8","D:\\react\\fchess\\src\\Components\\Figures\\Pieces.js":"9","D:\\react\\fchess\\src\\Components\\Figures\\Queen.js":"10","D:\\react\\fchess\\src\\Components\\Figures\\Rook.js":"11","D:\\react\\fchess\\src\\Components\\Figures\\Knight.js":"12","D:\\react\\fchess\\src\\Components\\Figures\\King.js":"13","D:\\react\\fchess\\src\\Components\\Figures\\Pawn.js":"14","D:\\react\\fchess\\src\\Components\\Figures\\Bishop.js":"15","D:\\react\\fchess\\src\\Components\\Figures\\Piece.js":"16"},{"size":232,"mtime":1611853857224,"results":"17","hashOfConfig":"18"},{"size":694,"mtime":1611856507487,"results":"19","hashOfConfig":"18"},{"size":546,"mtime":1612268009490,"results":"20","hashOfConfig":"18"},{"size":521,"mtime":1612017841061,"results":"21","hashOfConfig":"18"},{"size":264,"mtime":1612017853585,"results":"22","hashOfConfig":"18"},{"size":1999,"mtime":1612212186273,"results":"23","hashOfConfig":"18"},{"size":2110,"mtime":1612206455638,"results":"24","hashOfConfig":"18"},{"size":2344,"mtime":1612268917623,"results":"25","hashOfConfig":"18"},{"size":233,"mtime":1611938909622,"results":"26","hashOfConfig":"18"},{"size":224,"mtime":1612184602664,"results":"27","hashOfConfig":"18"},{"size":218,"mtime":1612184612276,"results":"28","hashOfConfig":"18"},{"size":226,"mtime":1612184574154,"results":"29","hashOfConfig":"18"},{"size":218,"mtime":1612184551223,"results":"30","hashOfConfig":"18"},{"size":220,"mtime":1612184589140,"results":"31","hashOfConfig":"18"},{"size":247,"mtime":1612184147665,"results":"32","hashOfConfig":"18"},{"size":2843,"mtime":1612268749295,"results":"33","hashOfConfig":"18"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},"15y5nrz",{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"47","usedDeprecatedRules":"36"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":"68","usedDeprecatedRules":"36"},"D:\\react\\fchess\\src\\index.js",[],["69","70"],"D:\\react\\fchess\\src\\App.js",[],"D:\\react\\fchess\\src\\Pages\\Analysis\\Analysis.js",[],"D:\\react\\fchess\\src\\Pages\\Main\\Main.js",[],"D:\\react\\fchess\\src\\Pages\\Play\\Play.js",[],"D:\\react\\fchess\\src\\Components\\BoardProvider\\BoardProvider.js",["71","72"],"import React,{useState,useEffect} from 'react';\r\n\r\nconst BoardContext = React.createContext(null);\r\n\r\nconst chess = require(\"chess\");\r\n\r\n\r\n\r\nclass BoardProvider extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.gameClient = chess.createSimple();\r\n    this.holded = null;\r\n    this.isWhite = true;\r\n    this.state = {\r\n      selectedTile: null,\r\n      board: this.gameClient.game.board,\r\n      validMoves: this.gameClient.getStatus().validMoves,\r\n      moves: null,\r\n    };\r\n\r\n\r\n  }\r\n\r\n  render() {\r\n    \r\n    return (\r\n      <BoardContext.Provider\r\n        value={{\r\n          selectedTile: this.state.selectedTile,\r\n          setSelectedTile:this.setSelectedTile,\r\n          board: this.state.board,\r\n          moveFunction: this.moveFunction,\r\n          moves: this.state.moves,\r\n          game: this.gameClient.game,\r\n          holded:this.holded,\r\n          setHolded:this.setHolded\r\n        }}\r\n      >\r\n        {this.props.children}\r\n      </BoardContext.Provider>\r\n    );\r\n  }\r\n\r\n  setMoves = ({file,rank}) => {\r\n    let moves = this.state\r\n      .validMoves.filter(\r\n        (move) =>\r\n          move.src.file === file &&\r\n          move.src.rank === rank\r\n      );\r\n\r\n      if (moves[0]) {\r\n        this.setState({ moves: moves[0].squares });\r\n      } else this.setState({ moves: null });\r\n     \r\n  };\r\n  moveFunction = (fileTo, rankTo) => {\r\n    console.log(\"move\", fileTo, rankTo);\r\n    this.gameClient.move(\r\n      `${this.state.selectedTile.file}${this.state.selectedTile.rank}`,\r\n      `${fileTo}${rankTo}`\r\n    );\r\n    this.setState({\r\n      board: this.gameClient.game.board,\r\n      validMoves: this.gameClient.getStatus().validMoves,\r\n    });\r\n    this.setMoves({ file:null,rank:null});\r\n  };\r\n\r\n  setSelectedTile = (value) => {\r\n    console.log(\"setting new moves\")\r\n    this.setState({ selectedTile: value });\r\n    this.setMoves(value);\r\n  }\r\n\r\n  setHolded = (value) =>{\r\n    this.holded = value;\r\n  }\r\n}\r\n\r\n\r\nexport { BoardProvider, BoardContext };\r\n","D:\\react\\fchess\\src\\Components\\Board\\Board.js",[],"D:\\react\\fchess\\src\\Components\\Tile\\Tile.js",["73","74","75"],"D:\\react\\fchess\\src\\Components\\Figures\\Pieces.js",[],"D:\\react\\fchess\\src\\Components\\Figures\\Queen.js",[],"D:\\react\\fchess\\src\\Components\\Figures\\Rook.js",[],"D:\\react\\fchess\\src\\Components\\Figures\\Knight.js",[],"D:\\react\\fchess\\src\\Components\\Figures\\King.js",[],"D:\\react\\fchess\\src\\Components\\Figures\\Pawn.js",[],"D:\\react\\fchess\\src\\Components\\Figures\\Bishop.js",[],"D:\\react\\fchess\\src\\Components\\Figures\\Piece.js",["76","77","78","79","80","81","82","83","84","85"],"import React from \"react\";\r\nimport { BoardContext } from \"../BoardProvider/BoardProvider\";\r\nimport style from \"./Figure.module.scss\";\r\n\r\nclass Piece extends React.Component {\r\n  static contextType = BoardContext;\r\n  constructor(props) {\r\n    super(props);\r\n    this.Ref = React.createRef();\r\n    this.rect = null;\r\n  }\r\n  render() {\r\n    const { component, color, square } = this.props;\r\n\r\n    const { selectedTile, setSelectedTile, moveFunction } = this.context;\r\n    const { file, rank } = square;\r\n\r\n    return (\r\n      <div\r\n        ref={this.Ref}\r\n        className={style[\"figure-wrapper\"]}\r\n        onMouseDown={this.onMouseDown}\r\n      >\r\n        {component({ style: { color }, className: style[\"figure\"] })}\r\n      </div>\r\n    );\r\n  }\r\n  onMouseDown = (e) => {\r\n    const { setSelectedTile, game, setHolded } = this.context;\r\n\r\n    const { file, rank, piece } = this.props.square;\r\n\r\n    const isBlack = game.moveHistory.length & 1;\r\n\r\n    const color = isBlack ? \"black\" : \"white\";\r\n\r\n    if (!piece) {\r\n      return;\r\n    }\r\n\r\n    if (color !== piece.side.name) {\r\n      return;\r\n    }\r\n\r\n    setHolded({ ...this.props.square });\r\n    ///\r\n    /// you     target\r\n    /// black   black\r\n    /// black   white\r\n    /// white   black\r\n    /// white   white\r\n\r\n    setSelectedTile({ file: file, rank: rank });\r\n\r\n    this.Ref.current.style.cursor = \"grabbing\";\r\n    this.Ref.current.style.transform = `scale(1.2)`;\r\n    this.Ref.current.style.pointerEvents = `none`;\r\n\r\n    this.rect = this.Ref.current.getBoundingClientRect();\r\n\r\n    this.Ref.current.style.left = `${\r\n      e.clientX - this.rect.left - this.rect.width / 2\r\n    }px`;\r\n\r\n    this.Ref.current.style.top = `${\r\n      e.clientY - this.rect.top - this.rect.height / 2\r\n    }px`;\r\n    window.addEventListener(\"mouseup\", this.onMouseUp);\r\n    window.addEventListener(\"mousemove\", this.onMouseMove);\r\n\r\n    e.preventDefault();\r\n  };\r\n  onMouseMove = (e) => {\r\n    const { selectedTile, setSelectedTile, moveFunction } = this.context;\r\n    this.Ref.current.style.left = `${\r\n      e.clientX - this.rect.left - this.rect.width / 2\r\n    }px`;\r\n\r\n    this.Ref.current.style.top = `${\r\n      e.clientY - this.rect.top - this.rect.height / 2\r\n    }px`;\r\n  };\r\n\r\n  onMouseUp = (e) => {\r\n\r\n    console.log(\"ONONONONONONONN\")\r\nwindow.removeEventListener(\"mouseup\", this.onMouseUp, { capture: true });\r\nwindow.removeEventListener(\"mousemove\", this.onMouseMove);\r\n    e.preventDefault();\r\n    const { holded, setHolded, moveFunction } = this.context;\r\n    setHolded(null);\r\n    if (!this.Ref.current) return;\r\n\r\n    \r\n    this.Ref.current.style.left = `0`;\r\n    this.Ref.current.style.top = `0`;\r\n    this.Ref.current.style.transform = `none`;\r\n    this.Ref.current.style.cursor = \"grab\";\r\n    this.Ref.current.style.pointerEvents = `all`;\r\n  \r\n    \r\n  };\r\n}\r\n\r\nexport default Piece;\r\n",{"ruleId":"86","replacedBy":"87"},{"ruleId":"88","replacedBy":"89"},{"ruleId":"90","severity":1,"message":"91","line":1,"column":15,"nodeType":"92","messageId":"93","endLine":1,"endColumn":23},{"ruleId":"90","severity":1,"message":"94","line":1,"column":24,"nodeType":"92","messageId":"93","endLine":1,"endColumn":33},{"ruleId":"90","severity":1,"message":"95","line":1,"column":17,"nodeType":"92","messageId":"93","endLine":1,"endColumn":26},{"ruleId":"90","severity":1,"message":"96","line":40,"column":5,"nodeType":"92","messageId":"93","endLine":40,"endColumn":17},{"ruleId":"90","severity":1,"message":"97","line":41,"column":5,"nodeType":"92","messageId":"93","endLine":41,"endColumn":20},{"ruleId":"90","severity":1,"message":"96","line":15,"column":13,"nodeType":"92","messageId":"93","endLine":15,"endColumn":25},{"ruleId":"90","severity":1,"message":"97","line":15,"column":27,"nodeType":"92","messageId":"93","endLine":15,"endColumn":42},{"ruleId":"90","severity":1,"message":"98","line":15,"column":44,"nodeType":"92","messageId":"93","endLine":15,"endColumn":56},{"ruleId":"90","severity":1,"message":"99","line":16,"column":13,"nodeType":"92","messageId":"93","endLine":16,"endColumn":17},{"ruleId":"90","severity":1,"message":"100","line":16,"column":19,"nodeType":"92","messageId":"93","endLine":16,"endColumn":23},{"ruleId":"90","severity":1,"message":"96","line":74,"column":13,"nodeType":"92","messageId":"93","endLine":74,"endColumn":25},{"ruleId":"90","severity":1,"message":"97","line":74,"column":27,"nodeType":"92","messageId":"93","endLine":74,"endColumn":42},{"ruleId":"90","severity":1,"message":"98","line":74,"column":44,"nodeType":"92","messageId":"93","endLine":74,"endColumn":56},{"ruleId":"90","severity":1,"message":"101","line":90,"column":13,"nodeType":"92","messageId":"93","endLine":90,"endColumn":19},{"ruleId":"90","severity":1,"message":"98","line":90,"column":32,"nodeType":"92","messageId":"93","endLine":90,"endColumn":44},"no-native-reassign",["102"],"no-negated-in-lhs",["103"],"no-unused-vars","'useState' is defined but never used.","Identifier","unusedVar","'useEffect' is defined but never used.","'createRef' is defined but never used.","'selectedTile' is assigned a value but never used.","'setSelectedTile' is assigned a value but never used.","'moveFunction' is assigned a value but never used.","'file' is assigned a value but never used.","'rank' is assigned a value but never used.","'holded' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]